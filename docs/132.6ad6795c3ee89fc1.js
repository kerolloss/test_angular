"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[132],{9132:(d,c,e)=>{e.r(c),e.d(c,{CashOrderComponent:()=>r});var h=e(6814),s=e(95),t=e(4769),m=e(1120),a=e(6286),p=e(2425);let r=(()=>{class o{constructor(i,n,u,_,l){this._ActivatedRoute=i,this._FormBuilder=n,this._CartService=u,this._Router=_,this._ToastrService=l,this.cartId="",this.orderForm=this._FormBuilder.group({details:[""],phone:[""],city:[""]})}ngOnInit(){this.parmId=this._ActivatedRoute.paramMap.subscribe({next:i=>{this.cartId=i.get("id")},error:i=>{console.log(i)}})}handelForm(){this.checkOutId=this._CartService.cashOrder(this.cartId,this.orderForm.value).subscribe({next:i=>{console.log(i),this._Router.navigate(["/home"]),this._ToastrService.success("Success"),this._CartService.cartNumber.next(0)},error:i=>{console.log(i)}})}ngOnDestroy(){this.parmId&&this.parmId.unsubscribe(),this.checkOutId&&this.checkOutId.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(m.gz),t.Y36(s.qu),t.Y36(a.N),t.Y36(m.F0),t.Y36(p._W))};static#r=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-cash-order"]],standalone:!0,features:[t.jDz],decls:18,vars:1,consts:[[1,"w-75","m-auto"],[1,"h5"],[3,"formGroup","ngSubmit"],[1,"form-item"],["for","details"],["type","text","id","details","formControlName","details",1,"form-control"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"form-control"],["for","city"],["type","text","id","city","formControlName","city",1,"form-control"],[1,"main-btn"]],template:function(n,u){1&n&&(t.TgZ(0,"section",0)(1,"h1",1),t._uU(2,"Cash Order Session:"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return u.handelForm()}),t.TgZ(4,"div",3)(5,"label",4),t._uU(6,"Details:"),t.qZA(),t._UZ(7,"input",5),t.qZA(),t.TgZ(8,"div",3)(9,"label",6),t._uU(10,"Phone:"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"div",3)(13,"label",8),t._uU(14,"City:"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"button",10),t._uU(17,"Cash Order"),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("formGroup",u.orderForm))},dependencies:[h.ez,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]})}return o})()},6286:(d,c,e)=>{e.d(c,{N:()=>m});var h=e(5619),s=e(4769),t=e(9862);let m=(()=>{class a{constructor(r){this._HttpClient=r,this.cartNumber=new h.X(0)}addToCart(r){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:r})}getCart(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/cart")}removeItem(r){return this._HttpClient.delete(`https://ecommerce.routemisr.com/api/v1/cart/${r}`)}removeCart(){return this._HttpClient.delete("https://ecommerce.routemisr.com/api/v1/cart")}updateCart(r,o){return this._HttpClient.put(`https://ecommerce.routemisr.com/api/v1/cart/${o}`,{count:r})}checkOut(r,o){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${r}?url=https://abdulhamidsameh.github.io/fresh_cart/`,{shippingAddress:o})}getAllOrders(r){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/orders/user/${r}`)}cashOrder(r,o){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/${r}`,{shippingAddress:o})}static#t=this.\u0275fac=function(o){return new(o||a)(s.LFG(t.eN))};static#r=this.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);