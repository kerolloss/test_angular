"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[848],{848:(_,p,i)=>{i.r(p),i.d(p,{AllordersComponent:()=>o});var a=i(6814),t=i(4769),u=i(5881),l=i(6286);function n(s,d){if(1&s&&(t.TgZ(0,"div",11)(1,"div",12)(2,"div"),t._UZ(3,"img",13),t.qZA()(),t.TgZ(4,"div",14)(5,"div")(6,"h3",5),t._uU(7),t.qZA(),t.TgZ(8,"p",15),t._uU(9),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA()()()()),2&s){const e=d.$implicit;t.xp6(3),t.Q6J("src",e.product.imageCover,t.LSH)("alt",e.product.title)("title",e.product.title),t.xp6(4),t.Oqu(e.product.title),t.xp6(2),t.hij("Price:",e.price,""),t.xp6(2),t.hij("Count:",e.count,"")}}function h(s,d){if(1&s&&(t.TgZ(0,"div",4)(1,"h4",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6)(4,"div")(5,"div",7)(6,"h6",8),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"p",9),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"p",9),t._uU(13),t.qZA(),t.TgZ(14,"p",9),t._uU(15),t.qZA(),t.TgZ(16,"p",9),t._uU(17),t.qZA()()()(),t.YNc(18,n,12,6,"div",10),t.qZA()),2&s){const e=d.$implicit,c=d.index;t.xp6(2),t.hij("Order Number :",c+1,""),t.xp6(5),t.hij(" Total Order Price: ",t.xi3(8,7,e.totalOrderPrice,"EGP")," "),t.xp6(3),t.hij(" Order Tax Price:",t.xi3(11,10,e.taxPrice,"EGP")," "),t.xp6(3),t.hij(" Order Payment Method:",e.paymentMethodType," "),t.xp6(2),t.hij("Order Is Paid :",e.isPaid,""),t.xp6(2),t.hij("Order Is Delivered : ",e.isDelivered,""),t.xp6(1),t.Q6J("ngForOf",e.cartItems)}}function r(s,d){if(1&s&&(t.TgZ(0,"section")(1,"h1",1),t._uU(2,"All Orders"),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,h,19,13,"div",3),t.qZA()()),2&s){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.orderData)}}let o=(()=>{class s{constructor(e,c){this._AuthService=e,this._CartService=c,this.userId="",this.orderData=[]}ngOnInit(){this._AuthService.decodeUser(),this.userData=this._AuthService.userInfo,this.userId=this.userData.id,this.allOrdersId=this._CartService.getAllOrders(this.userId).subscribe({next:e=>{this.orderData=e},error:e=>{console.log(e)}})}ngOnDestroy(){this.allOrdersId&&this.allOrdersId.unsubscribe()}static#t=this.\u0275fac=function(c){return new(c||s)(t.Y36(u.e),t.Y36(l.N))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-allorders"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[1,"h2","text-center","my-3"],[1,"row","g-4"],["class","product",4,"ngFor","ngForOf"],[1,"product"],[1,"h6"],[1,"col-md-12"],[1,"desc"],[1,"font-sm","text-main"],[1,"font-sm"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-1"],[1,"w-100","object-fit-fill",3,"src","alt","title"],[1,"col-md-11"],[1,"text-main"]],template:function(c,m){1&c&&t.YNc(0,r,5,1,"section",0),2&c&&t.Q6J("ngIf",m.orderData)},dependencies:[a.ez,a.sg,a.O5,a.H9]})}return s})()},6286:(_,p,i)=>{i.d(p,{N:()=>l});var a=i(5619),t=i(4769),u=i(9862);let l=(()=>{class n{constructor(r){this._HttpClient=r,this.cartNumber=new a.X(0)}addToCart(r){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:r})}getCart(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/cart")}removeItem(r){return this._HttpClient.delete(`https://ecommerce.routemisr.com/api/v1/cart/${r}`)}removeCart(){return this._HttpClient.delete("https://ecommerce.routemisr.com/api/v1/cart")}updateCart(r,o){return this._HttpClient.put(`https://ecommerce.routemisr.com/api/v1/cart/${o}`,{count:r})}checkOut(r,o){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${r}?url=https://abdulhamidsameh.github.io/fresh_cart/`,{shippingAddress:o})}getAllOrders(r){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/orders/user/${r}`)}cashOrder(r,o){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/${r}`,{shippingAddress:o})}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(u.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);