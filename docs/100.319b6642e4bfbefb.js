"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[100],{9100:(E,u,d)=>{d.r(u),d.d(u,{UpdatePasswordComponent:()=>x});var _=d(6814),a=d(95),r=d(4769),m=d(5881),g=d(1120),c=d(2425);function f(e,n){1&e&&(r.TgZ(0,"p",16),r._uU(1," Password Is Required "),r.qZA())}function w(e,n){1&e&&(r.TgZ(0,"p",16),r._uU(1," Current Password At Least 6 Characters "),r.qZA())}function P(e,n){if(1&e&&(r.TgZ(0,"div",14),r.YNc(1,f,2,0,"p",15),r.YNc(2,w,2,0,"p",15),r.qZA()),2&e){const o=r.oxw();let t,s;r.xp6(1),r.Q6J("ngIf",null==(t=o.registerForm.get("currentPassword"))?null:t.getError("required")),r.xp6(1),r.Q6J("ngIf",null==(s=o.registerForm.get("currentPassword"))?null:s.getError("pattern"))}}function h(e,n){1&e&&(r.TgZ(0,"p",16),r._uU(1," Password Is Required "),r.qZA())}function Z(e,n){1&e&&(r.TgZ(0,"p",16),r._uU(1," Password At Least 6 Characters "),r.qZA())}function U(e,n){if(1&e&&(r.TgZ(0,"div",14),r.YNc(1,h,2,0,"p",15),r.YNc(2,Z,2,0,"p",15),r.qZA()),2&e){const o=r.oxw();let t,s;r.xp6(1),r.Q6J("ngIf",null==(t=o.registerForm.get("password"))?null:t.getError("required")),r.xp6(1),r.Q6J("ngIf",null==(s=o.registerForm.get("password"))?null:s.getError("pattern"))}}function v(e,n){1&e&&(r.TgZ(0,"p",16),r._uU(1," RePassword Is Required "),r.qZA())}function T(e,n){1&e&&(r.TgZ(0,"p",16),r._uU(1," Invalid Confirm RePassword "),r.qZA())}function C(e,n){if(1&e&&(r.TgZ(0,"div",14),r.YNc(1,v,2,0,"p",15),r.YNc(2,T,2,0,"p",15),r.qZA()),2&e){const o=r.oxw();let t,s;r.xp6(1),r.Q6J("ngIf",null==(t=o.registerForm.get("rePassword"))?null:t.getError("required")),r.xp6(1),r.Q6J("ngIf",null==(s=o.registerForm.get("rePassword"))?null:s.getError("mismatch"))}}function A(e,n){1&e&&(r.TgZ(0,"span"),r._UZ(1,"i",17),r.qZA())}function I(e,n){if(1&e&&(r.TgZ(0,"p",18),r._uU(1),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.hij(" ",o.errMsg," ")}}let x=(()=>{class e{constructor(o,t,s,i){this._FormBuilder=o,this._AuthService=t,this._Router=s,this._ToastrService=i,this.errMsg="",this.isLoading=!1,this.registerForm=this._FormBuilder.group({currentPassword:["",[a.kI.required,a.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)]],password:["",[a.kI.required,a.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)]],rePassword:[""]},{validators:[this.confirmPassword]})}confirmPassword(o){const t=o.get("password"),s=o.get("rePassword");""==s?.value?s.setErrors({required:!0}):t?.value!=s?.value&&s?.setErrors({mismatch:!0})}handelForm(){this.isLoading=!0,this.registerForm.valid&&(this.updatePasswordId=this._AuthService.updateLoggedPassword(this.registerForm.value).subscribe({next:t=>{"success"==t.message&&(this._Router.navigate(["/home"]),this.isLoading=!1,this._ToastrService.success("Password Update Successfully")),console.log(t)},error:t=>{console.log(t),this.errMsg=t.error.message,this.isLoading=!1}}))}ngOnDestroy(){this.updatePasswordId&&this.updatePasswordId.unsubscribe()}static#r=this.\u0275fac=function(t){return new(t||e)(r.Y36(a.qu),r.Y36(m.e),r.Y36(g.F0),r.Y36(c._W))};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-update-password"]],standalone:!0,features:[r.jDz],decls:23,vars:7,consts:[[1,"w-75","mx-auto"],[1,"h5"],[3,"formGroup","submit"],[1,"form-item"],["for","currentPassword"],["type","password","formControlName","currentPassword","id","currentPassword",1,"form-control"],["class","alert alert-danger p-1 small w-50 mx-auto",4,"ngIf"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control"],["for","rePassword"],["type","password","formControlName","rePassword","id","rePassword",1,"form-control"],[1,"main-btn",3,"disabled"],[4,"ngIf"],["class","alert alert-danger p-1 w-50 mx-auto mb-0 text-center",4,"ngIf"],[1,"alert","alert-danger","p-1","small","w-50","mx-auto"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"fas","fa-spin","fa-spinner"],[1,"alert","alert-danger","p-1","w-50","mx-auto","mb-0","text-center"]],template:function(t,s){if(1&t&&(r.TgZ(0,"section",0)(1,"h1",1),r._uU(2,"Update Password:"),r.qZA(),r.TgZ(3,"form",2),r.NdJ("submit",function(){return s.handelForm()}),r.TgZ(4,"div",3)(5,"label",4),r._uU(6,"Current Password:"),r.qZA(),r._UZ(7,"input",5),r.YNc(8,P,3,2,"div",6),r.qZA(),r.TgZ(9,"div",3)(10,"label",7),r._uU(11,"Password:"),r.qZA(),r._UZ(12,"input",8),r.YNc(13,U,3,2,"div",6),r.qZA(),r.TgZ(14,"div",3)(15,"label",9),r._uU(16,"RePassword:"),r.qZA(),r._UZ(17,"input",10),r.YNc(18,C,3,2,"div",6),r.qZA(),r.TgZ(19,"button",11),r._uU(20," Update "),r.YNc(21,A,2,0,"span",12),r.qZA()(),r.YNc(22,I,2,1,"p",13),r.qZA()),2&t){let i,l,p;r.xp6(3),r.Q6J("formGroup",s.registerForm),r.xp6(5),r.Q6J("ngIf",(null==(i=s.registerForm.get("currentPassword"))?null:i.errors)&&(null==(i=s.registerForm.get("currentPassword"))?null:i.touched)),r.xp6(5),r.Q6J("ngIf",(null==(l=s.registerForm.get("password"))?null:l.errors)&&(null==(l=s.registerForm.get("password"))?null:l.touched)),r.xp6(5),r.Q6J("ngIf",(null==(p=s.registerForm.get("rePassword"))?null:p.errors)&&(null==(p=s.registerForm.get("rePassword"))?null:p.touched)),r.xp6(1),r.Q6J("disabled",s.registerForm.invalid),r.xp6(2),r.Q6J("ngIf",s.isLoading),r.xp6(1),r.Q6J("ngIf",s.errMsg)}},dependencies:[_.ez,_.O5,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return e})()}}]);