"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[932],{6666:(L,m,l)=>{l.r(m),l.d(m,{LoginComponent:()=>I});var _=l(6814),r=l(95),u=l(1120),o=l(4769),p=l(5881);function d(e,s){1&e&&(o.TgZ(0,"p",16),o._uU(1," Email Is Required "),o.qZA())}function c(e,s){1&e&&(o.TgZ(0,"p",16),o._uU(1," Invalid Email Format "),o.qZA())}function f(e,s){if(1&e&&(o.TgZ(0,"div",14),o.YNc(1,d,2,0,"p",15),o.YNc(2,c,2,0,"p",15),o.qZA()),2&e){const i=o.oxw();let t,n;o.xp6(1),o.Q6J("ngIf",null==(t=i.loginForm.get("email"))?null:t.getError("required")),o.xp6(1),o.Q6J("ngIf",null==(n=i.loginForm.get("email"))?null:n.getError("email"))}}function h(e,s){1&e&&(o.TgZ(0,"p",16),o._uU(1," Password Is Required "),o.qZA())}function Z(e,s){1&e&&(o.TgZ(0,"p",16),o._uU(1," Password At Least 6 Characters "),o.qZA())}function F(e,s){if(1&e&&(o.TgZ(0,"div",14),o.YNc(1,h,2,0,"p",15),o.YNc(2,Z,2,0,"p",15),o.qZA()),2&e){const i=o.oxw();let t,n;o.xp6(1),o.Q6J("ngIf",null==(t=i.loginForm.get("password"))?null:t.getError("required")),o.xp6(1),o.Q6J("ngIf",null==(n=i.loginForm.get("password"))?null:n.getError("pattern"))}}function T(e,s){1&e&&(o.TgZ(0,"span"),o._UZ(1,"i",17),o.qZA())}function v(e,s){if(1&e&&(o.TgZ(0,"p",18),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.errMsg," ")}}let I=(()=>{class e{constructor(i,t,n){this._FormBuilder=i,this._AuthService=t,this._Router=n,this.errMsg="",this.isLoading=!1,this._loginForm=this._FormBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)]]})}get loginForm(){return this._loginForm}set loginForm(i){this._loginForm=i}handelForm(){this.isLoading=!0,this.loginForm.valid&&(this.loginId=this._AuthService.login(this.loginForm.value).subscribe({next:t=>{"success"==t.message&&(localStorage.setItem("etoken",t.token),this._AuthService.decodeUser(),this._Router.navigate(["/home"]),this.isLoading=!1)},error:t=>{console.log(t),this.errMsg=t.error.message,this.isLoading=!1}}))}ngOnDestroy(){this.loginId&&this.loginId.unsubscribe()}static#o=this.\u0275fac=function(t){return new(t||e)(o.Y36(r.qu),o.Y36(p.e),o.Y36(u.F0))};static#e=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],standalone:!0,features:[o.jDz],decls:21,vars:6,consts:[[1,"w-75","mx-auto"],[1,"h5"],[3,"formGroup","submit"],[1,"form-item"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control"],["class","alert alert-danger p-1 small w-50 mx-auto",4,"ngIf"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control"],[1,"d-flex","justify-content-between","align-items-center"],[1,"main-btn",3,"disabled"],[4,"ngIf"],["role","button","routerLink","/authForgetPassword",1,"text-decoration-none"],["class","alert alert-danger p-1 w-50 mx-auto mb-0 text-center",4,"ngIf"],[1,"alert","alert-danger","p-1","small","w-50","mx-auto"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"fas","fa-spin","fa-spinner"],[1,"alert","alert-danger","p-1","w-50","mx-auto","mb-0","text-center"]],template:function(t,n){if(1&t&&(o.TgZ(0,"section",0)(1,"h1",1),o._uU(2,"Login Now:"),o.qZA(),o.TgZ(3,"form",2),o.NdJ("submit",function(){return n.handelForm()}),o.TgZ(4,"div",3)(5,"label",4),o._uU(6,"Email:"),o.qZA(),o._UZ(7,"input",5),o.YNc(8,f,3,2,"div",6),o.qZA(),o.TgZ(9,"div",3)(10,"label",7),o._uU(11,"Password:"),o.qZA(),o._UZ(12,"input",8),o.YNc(13,F,3,2,"div",6),o.qZA(),o.TgZ(14,"footer",9)(15,"button",10),o._uU(16," Login "),o.YNc(17,T,2,0,"span",11),o.qZA(),o.TgZ(18,"a",12),o._uU(19,"Forget Password?"),o.qZA()()(),o.YNc(20,v,2,1,"p",13),o.qZA()),2&t){let a,g;o.xp6(3),o.Q6J("formGroup",n.loginForm),o.xp6(5),o.Q6J("ngIf",(null==(a=n.loginForm.get("email"))?null:a.errors)&&(null==(a=n.loginForm.get("email"))?null:a.touched)),o.xp6(5),o.Q6J("ngIf",(null==(g=n.loginForm.get("password"))?null:g.errors)&&(null==(g=n.loginForm.get("password"))?null:g.touched)),o.xp6(2),o.Q6J("disabled",n.loginForm.invalid),o.xp6(2),o.Q6J("ngIf",n.isLoading),o.xp6(3),o.Q6J("ngIf",n.errMsg)}},dependencies:[_.ez,_.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,u.rH]})}return e})()}}]);