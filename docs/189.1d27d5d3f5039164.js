"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[189],{6189:(C,m,n)=>{n.r(m),n.d(m,{NewPasswordComponent:()=>I});var _=n(6814),a=n(95),e=n(4769),u=n(5881),p=n(1120),w=n(2425);function c(s,l){1&s&&(e.TgZ(0,"p",14),e._uU(1," Email Is Required "),e.qZA())}function g(s,l){1&s&&(e.TgZ(0,"p",14),e._uU(1," Invalid Email Format "),e.qZA())}function f(s,l){if(1&s&&(e.TgZ(0,"div",12),e.YNc(1,c,2,0,"p",13),e.YNc(2,g,2,0,"p",13),e.qZA()),2&s){const r=e.oxw();let t,o;e.xp6(1),e.Q6J("ngIf",null==(t=r.newPasswordForm.get("email"))?null:t.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=r.newPasswordForm.get("email"))?null:o.getError("email"))}}function P(s,l){1&s&&(e.TgZ(0,"p",14),e._uU(1," Password Is Required "),e.qZA())}function h(s,l){1&s&&(e.TgZ(0,"p",14),e._uU(1," Password At Least 6 Characters "),e.qZA())}function Z(s,l){if(1&s&&(e.TgZ(0,"div",12),e.YNc(1,P,2,0,"p",13),e.YNc(2,h,2,0,"p",13),e.qZA()),2&s){const r=e.oxw();let t,o;e.xp6(1),e.Q6J("ngIf",null==(t=r.newPasswordForm.get("newPassword"))?null:t.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=r.newPasswordForm.get("newPassword"))?null:o.getError("pattern"))}}function T(s,l){1&s&&(e.TgZ(0,"span"),e._UZ(1,"i",15),e.qZA())}function v(s,l){if(1&s&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&s){const r=e.oxw();e.xp6(1),e.hij(" ",r.errMsg," ")}}let I=(()=>{class s{constructor(r,t,o,i){this._FormBuilder=r,this._AuthService=t,this._Router=o,this._ToastrService=i,this.errMsg="",this.isLoading=!1,this.newPasswordForm=this._FormBuilder.group({email:["",[a.kI.required,a.kI.email]],newPassword:["",[a.kI.required,a.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)]]})}handelForm(){this.isLoading=!0,this.newPasswordForm.valid&&(this.updatePasswordId=this._AuthService.updatePassword(this.newPasswordForm.value).subscribe({next:t=>{console.log(t),localStorage.setItem("etoken",t.token),this.isLoading=!1,this._Router.navigate(["/home"]),this._ToastrService.success("Password Change Successfully")},error:t=>{console.log(t),this.isLoading=!1,this.errMsg=t.error.message}}))}ngOnDestroy(){this.updatePasswordId&&this.updatePasswordId.unsubscribe()}static#e=this.\u0275fac=function(t){return new(t||s)(e.Y36(a.qu),e.Y36(u.e),e.Y36(p.F0),e.Y36(w._W))};static#s=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-new-password"]],standalone:!0,features:[e.jDz],decls:18,vars:6,consts:[[1,"w-75","mx-auto"],[1,"h5"],[3,"formGroup","submit"],[1,"form-item"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control"],["class","alert alert-danger p-1 small w-50 mx-auto",4,"ngIf"],["for","password"],["type","password","formControlName","newPassword","id","password",1,"form-control"],[1,"main-btn",3,"disabled"],[4,"ngIf"],["class","alert alert-danger p-1 w-50 mx-auto mb-0 text-center",4,"ngIf"],[1,"alert","alert-danger","p-1","small","w-50","mx-auto"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"fas","fa-spin","fa-spinner"],[1,"alert","alert-danger","p-1","w-50","mx-auto","mb-0","text-center"]],template:function(t,o){if(1&t&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2,"Update Password :"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("submit",function(){return o.handelForm()}),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"Email:"),e.qZA(),e._UZ(7,"input",5),e.YNc(8,f,3,2,"div",6),e.qZA(),e.TgZ(9,"div",3)(10,"label",7),e._uU(11,"New Password:"),e.qZA(),e._UZ(12,"input",8),e.YNc(13,Z,3,2,"div",6),e.qZA(),e.TgZ(14,"button",9),e._uU(15," Update "),e.YNc(16,T,2,0,"span",10),e.qZA()(),e.YNc(17,v,2,1,"p",11),e.qZA()),2&t){let i,d;e.xp6(3),e.Q6J("formGroup",o.newPasswordForm),e.xp6(5),e.Q6J("ngIf",(null==(i=o.newPasswordForm.get("email"))?null:i.errors)&&(null==(i=o.newPasswordForm.get("email"))?null:i.touched)),e.xp6(5),e.Q6J("ngIf",(null==(d=o.newPasswordForm.get("newPassword"))?null:d.errors)&&(null==(d=o.newPasswordForm.get("newPassword"))?null:d.touched)),e.xp6(1),e.Q6J("disabled",o.newPasswordForm.invalid),e.xp6(2),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",o.errMsg)}},dependencies:[_.ez,_.O5,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return s})()}}]);